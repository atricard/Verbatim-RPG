execute as @s[tag=japan_cloudwood_0] run setblock ~ ~-1 ~ minecraft:structure_block[mode=load]{name:"vrpg:cloudwood_0",posX:-4,posZ:-4,sizeX:9,sizeY:10,sizeZ:9,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} replace
execute as @s[tag=japan_cloudwood_1] run setblock ~ ~-1 ~ minecraft:structure_block[mode=load]{name:"vrpg:cloudwood_1",posX:-4,posZ:-4,sizeX:9,sizeY:10,sizeZ:9,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} replace
execute as @s[tag=japan_cloudwood_2] run setblock ~ ~-1 ~ minecraft:structure_block[mode=load]{name:"vrpg:cloudwood_2",posX:-4,posZ:-4,sizeX:9,sizeY:10,sizeZ:9,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} replace
execute as @s[tag=japan_cloudwood_3] run setblock ~ ~-1 ~ minecraft:structure_block[mode=load]{name:"vrpg:cloudwood_3",posX:-4,posZ:-4,sizeX:9,sizeY:10,sizeZ:9,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} replace

execute as @s[tag=japan_tori_shrine_0] run setblock ~ ~-1 ~ minecraft:structure_block[mode=load]{name:"vrpg:tori_shrine",posX:-10,posY:-7,posZ:-10,sizeX:20,sizeY:18,sizeZ:19,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} replace
execute as @s[tag=japan_tori_shrine_90] run setblock ~ ~-1 ~ minecraft:structure_block[mode=load]{name:"vrpg:tori_shrine",posX:10,posY:-7,posZ:-10,sizeX:20,sizeY:18,sizeZ:19,rotation:"CLOCKWISE_90",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} replace
execute as @s[tag=japan_tori_shrine_180] run setblock ~ ~-1 ~ minecraft:structure_block[mode=load]{name:"vrpg:tori_shrine",posX:10,posY:-7,posZ:10,sizeX:20,sizeY:18,sizeZ:19,rotation:"CLOCKWISE_180",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} replace
execute as @s[tag=japan_tori_shrine_270] run setblock ~ ~-1 ~ minecraft:structure_block[mode=load]{name:"vrpg:tori_shrine",posX:-10,posY:-7,posZ:-10,sizeX:20,sizeY:18,sizeZ:19,rotation:"CLOCKWISE_270",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} replace

execute as @s[tag=japan_airship_ruins_basic_0] run setblock ~ ~-1 ~ minecraft:structure_block[mode=load]{name:"vrpg:airship_ruins",posX:-10,posY:-7,posZ:-10,sizeX:20,sizeY:18,sizeZ:19,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} replace
execute as @s[tag=japan_airship_ruins_basic_90] run setblock ~ ~-1 ~ minecraft:structure_block[mode=load]{name:"vrpg:airship_ruins",posX:10,posY:-7,posZ:-10,sizeX:20,sizeY:18,sizeZ:19,rotation:"CLOCKWISE_90",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} replace
execute as @s[tag=japan_airship_ruins_basic_180] run setblock ~ ~-1 ~ minecraft:structure_block[mode=load]{name:"vrpg:airship_ruins",posX:10,posY:-7,posZ:10,sizeX:20,sizeY:18,sizeZ:19,rotation:"CLOCKWISE_180",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} replace
execute as @s[tag=japan_airship_ruins_basic_270] run setblock ~ ~-1 ~ minecraft:structure_block[mode=load]{name:"vrpg:airship_ruins",posX:-10,posY:-7,posZ:-10,sizeX:20,sizeY:18,sizeZ:19,rotation:"CLOCKWISE_270",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} replace

execute as @s[tag=japan_airship_ruins_bee_sakura_0] run setblock ~ ~-1 ~ minecraft:structure_block[mode=load]{name:"vrpg:airship_ruins_bee_sakura",posX:-10,posY:-7,posZ:-10,sizeX:20,sizeY:18,sizeZ:19,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} replace
execute as @s[tag=japan_airship_ruins_bee_sakura_90] run setblock ~ ~-1 ~ minecraft:structure_block[mode=load]{name:"vrpg:airship_ruins_bee_sakura",posX:10,posY:-7,posZ:-10,sizeX:20,sizeY:18,sizeZ:19,rotation:"CLOCKWISE_90",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} replace
execute as @s[tag=japan_airship_ruins_bee_sakura_180] run setblock ~ ~-1 ~ minecraft:structure_block[mode=load]{name:"vrpg:airship_ruins_bee_sakura",posX:10,posY:-7,posZ:10,sizeX:20,sizeY:18,sizeZ:19,rotation:"CLOCKWISE_180",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} replace
execute as @s[tag=japan_airship_ruins_bee_sakura_270] run setblock ~ ~-1 ~ minecraft:structure_block[mode=load]{name:"vrpg:airship_ruins_bee_sakura",posX:-10,posY:-7,posZ:-10,sizeX:20,sizeY:18,sizeZ:19,rotation:"CLOCKWISE_270",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} replace

execute as @s[tag=japan_airship_ruins_bee_0] run setblock ~ ~-1 ~ minecraft:structure_block[mode=load]{name:"vrpg:airship_ruins_bee",posX:-10,posY:-7,posZ:-10,sizeX:20,sizeY:18,sizeZ:19,rotation:"NONE",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} replace
execute as @s[tag=japan_airship_ruins_bee_90] run setblock ~ ~-1 ~ minecraft:structure_block[mode=load]{name:"vrpg:airship_ruins_bee",posX:10,posY:-7,posZ:-10,sizeX:20,sizeY:18,sizeZ:19,rotation:"CLOCKWISE_90",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} replace
execute as @s[tag=japan_airship_ruins_bee_180] run setblock ~ ~-1 ~ minecraft:structure_block[mode=load]{name:"vrpg:airship_ruins_bee",posX:10,posY:-7,posZ:10,sizeX:20,sizeY:18,sizeZ:19,rotation:"CLOCKWISE_180",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} replace
execute as @s[tag=japan_airship_ruins_bee_270] run setblock ~ ~-1 ~ minecraft:structure_block[mode=load]{name:"vrpg:airship_ruins_bee",posX:-10,posY:-7,posZ:-10,sizeX:20,sizeY:18,sizeZ:19,rotation:"CLOCKWISE_270",mirror:"NONE",mode:"LOAD",ignoreEntities:0b} replace

execute if block ~ ~-1 ~ minecraft:structure_block run setblock ~ ~-2 ~ minecraft:redstone_block replace
execute if block ~ ~-1 ~ minecraft:structure_block run setblock ~ ~-1 ~ minecraft:grass_block
execute if block ~ ~-2 ~ minecraft:redstone_block run setblock ~ ~-2 ~ minecraft:dirt

execute as @s[tag=japan_tori_shrine] at @s positioned ~ ~2.5 ~ run function vrpg:structuregen/japan/randomizer_miko
execute as @s[tag=townGen] at @s run function vrpg:structuregen/japan/spread_village_small
kill @s[tag=!townGen]